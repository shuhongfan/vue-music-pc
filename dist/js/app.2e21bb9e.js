(function(t){function e(e){for(var n,r,o=e[0],c=e[1],l=e[2],p=0,m=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("4cae")},"03e5":function(t,e,a){"use strict";var n=a("bcfd"),s=a.n(n);s.a},1:function(t,e){},"119c":function(t,e,a){},"11a4":function(t,e,a){"use strict";var n=a("2780"),s=a.n(n);s.a},"1af2":function(t,e){t.exports=NProgress},2780:function(t,e,a){},"2e8a":function(t,e,a){},4078:function(t,e,a){"use strict";var n=a("81eb"),s=a.n(n);s.a},"4cae":function(t,e,a){"use strict";a.r(e);a("4de4"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("8bbf"),s=a.n(n),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-container",[a("el-header",[a("Header")],1),a("el-main",[a("router-view")],1),a("Aplayer",{directives:[{name:"drag",rawName:"v-drag"}],staticClass:"aplayer"})],1),a("Footer")],1)},r=[],o=a("5530"),c=a("5880"),l=a.n(c),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-menu",{staticClass:"el-menu",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[n("el-menu-item",[n("img",{staticClass:"logo",attrs:{src:a("4ffd"),alt:"music"}})]),n("el-menu-item",{attrs:{index:"discover"}},[t._v("发现音乐")]),n("el-menu-item",{attrs:{index:"recommend"}},[t._v("推荐歌单")]),n("el-menu-item",{attrs:{index:"latestSongs"}},[t._v("最新音乐")]),n("el-menu-item",{attrs:{index:"latestMVs"}},[t._v("最新MV")]),n("el-menu-item",{staticClass:"search"},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入音乐/歌单/MV/歌手"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchByName(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[n("el-button",{attrs:{slot:"append",type:"mini",icon:"el-icon-search"},on:{click:t.searchByName},slot:"append"})],1)],1)],1)},p=[],m=(a("fb6a"),a("ac1f"),a("841c"),{name:"Header",data:function(){return{activeIndex:"discover",search:""}},watch:{"$route.path":function(t){t=t.slice(1),this.activeIndex=t},"$route.params.songName":function(t){this.search=t}},methods:{handleSelect:function(t,e){t&&this.$router.push("/"+t)},searchByName:function(){if(""===this.search||null==this.search)return this.$message({message:"请输入音乐/歌单/MV/歌手",type:"error"}),!1;this.$router.push("/search/"+this.search)}}}),d=m,g=(a("5063"),a("2877")),h=Object(g["a"])(d,u,p,!1,null,"b8b17e7e",null),f=h.exports,v=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",[a("div",{staticClass:"footer"},[a("div",{staticClass:"card"},[a("div",{staticClass:"title"},[a("h4",[t._v("下载音乐客户端")])]),a("div",{staticClass:"content download"},[a("a",{attrs:{href:"#"}},[a("p",{staticClass:"iconfont icon-Windows"}),a("h4",[t._v("PC")])]),a("a",{attrs:{href:"#"}},[a("p",{staticClass:"iconfont icon-anzhuo"}),a("h4",[t._v("Android")])]),a("a",{attrs:{href:"#"}},[a("p",{staticClass:"iconfont icon-ios"}),a("h4",[t._v("IPHONE")])])])]),a("div",{staticClass:"card"},[a("div",{staticClass:"title"},[a("h4",[t._v("协议与声明")])]),a("div",{staticClass:"content"},[a("a",{attrs:{href:"#"}},[t._v("用户服务协议")]),a("a",{attrs:{href:"#"}},[t._v("免责声明")]),a("a",{attrs:{href:"#"}},[t._v("隐私政策")]),a("a",{attrs:{href:"#"}},[t._v("权利声明")]),a("a",{attrs:{href:"#"}},[t._v("权利声明")]),a("a",{attrs:{href:"#"}},[t._v("权利声明")])])]),a("div",{staticClass:"card"},[a("div",{staticClass:"title"},[a("h4",[t._v("其他")])]),a("div",{staticClass:"content"},[a("a",{attrs:{href:"#"}},[t._v("联系我们")]),a("a",{attrs:{href:"#"}},[t._v("腾讯音乐")]),a("a",{attrs:{href:"#"}},[t._v("诚聘英才")]),a("a",{attrs:{href:"#"}},[t._v("广告服务")]),a("a",{attrs:{href:"#"}},[t._v("网上有害信息举报专区")])])])]),a("div",{staticClass:"copy"},[a("p",[t._v(" 舒洪凡科技有限公司版权所有 丨 网络文化经营许可证：京网文[2015]0525-205号 | 信息网络传播视听节目许可证0109362号 丨 增值电信业务经营许可证B2-20090418 丨京ICP证060261号 ")]),a("p",[t._v(" 广播电视节目制作经营许可证京字第2037号 丨营业性演出许可证京市演1574 | 京公网安备11010502030216号 ")]),a("p",[t._v(" 举报电话：010-87939949丨 举报邮箱：shfshuhongfan@126.com ")])])])}],y={name:"Footer"},_=y,C=(a("4078"),Object(g["a"])(_,v,b,!1,null,"b8f5b48c",null)),w=C.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.musicUrl?a("aplayer",{ref:"player",attrs:{autoplay:!0,showLrc:!0,float:!0,mutex:!0,controls:!0,repeat:"repeat-one",list:t.playLists,music:{title:this.songName,artist:this.songArtist,src:this.musicUrl,pic:this.songPicUrl,lrc:this.Lyric}}}):t._e()},S=[],M=(a("c740"),a("b0c0"),a("96cf"),a("1da1")),k=a("0f7d"),z=a.n(k),O={name:"Aplayer",data:function(){return{musicUrl:"",songName:"",songPicUrl:"",songArtist:"",Lyric:""}},components:{aplayer:z.a},computed:Object(o["a"])({},Object(c["mapState"])(["musicId","playLists","flag"])),watch:{"$store.state.musicId":function(t){t&&this.init()},"$store.state.flag":function(t){0===t?this.play():this.pause()}},methods:Object(o["a"])(Object(o["a"])({},Object(c["mapMutations"])(["setPlayLists","setFlag","cleanMusicID"])),{},{init:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getMusic();case 2:return e.next=4,t.getSongDetail();case 4:return e.next=6,t.getLyric();case 6:return e.next=8,setTimeout((function(){-1===t.playLists.findIndex((function(e){return e.title===t.songName}))&&t.setPlayLists({title:t.songName,artist:t.songArtist,src:t.musicUrl,pic:t.songPicUrl,lrc:t.Lyric})}),1e3);case 8:return e.next=10,setTimeout((function(){t.play()}),1200);case 10:case"end":return e.stop()}}),e)})))()},getMusic:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/song/url",{params:{id:t.musicId}});case 2:a=e.sent,t.musicUrl=a.data.data[0].url;case 4:case"end":return e.stop()}}),e)})))()},getSongDetail:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/song/detail",{params:{ids:t.musicId}});case 2:a=e.sent,t.songName=a.data.songs[0].name,t.songPicUrl=a.data.songs[0].al.picUrl,t.songArtist=a.data.songs[0].ar[0].name;case 6:case"end":return e.stop()}}),e)})))()},getLyric:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/lyric",{params:{id:t.musicId}});case 2:a=e.sent,t.Lyric=a.data.lrc.lyric;case 4:case"end":return e.stop()}}),e)})))()},play:function(){this.$refs.player.play()},pause:function(){this.$refs.player.pause()}})},P=O,j=Object(g["a"])(P,x,S,!1,null,"3239b904",null),V=j.exports,L={name:"app",components:{Header:f,Footer:w,Aplayer:V},computed:Object(o["a"])({},Object(c["mapState"])(["musicId"])),directives:{drag:function(t,e){t.onmousedown=function(e){var a=e.pageX-t.offsetLeft,n=e.pageY-t.offsetTop;document.onmousemove=function(e){t.style.left=e.pageX-a+"px",t.style.top=e.pageY-n+"px"},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}}}},R=L,D=(a("a0c2"),Object(g["a"])(R,i,r,!1,null,"99dccac4",null)),I=D.exports,$=a("6389"),U=a.n($),N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-carousel",{attrs:{interval:4e3,type:"card",height:"200px"}},t._l(t.banners,(function(t){return a("el-carousel-item",{key:t.imageUrl},[a("img",{staticClass:"bannerImg",attrs:{src:t.imageUrl,alt:""}})])})),1),a("el-tabs",{model:{value:t.activeRecommend,callback:function(e){t.activeRecommend=e},expression:"activeRecommend"}},[a("el-tab-pane",{attrs:{label:"推荐歌单",name:"Recommend"}},[a("el-row",{attrs:{gutter:12}},t._l(t.personalized,(function(e){return a("el-col",{key:e.id,attrs:{span:4},nativeOn:{click:function(a){return t.goPlaylistDeltail(e.id)}}},[a("el-card",{staticClass:"RecommendCard",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:e.picUrl}}),a("div",[a("span",[t._v(t._s(e.name))])]),a("p",{staticClass:"iconfont icon-bofang_huaban"})])],1)})),1)],1)],1),a("el-tabs",{model:{value:t.activeLatestSongs,callback:function(e){t.activeLatestSongs=e},expression:"activeLatestSongs"}},[a("el-tab-pane",{attrs:{label:"最新音乐",name:"LatestSongs"}},[a("el-row",{attrs:{gutter:12}},t._l(t.latestSongs,(function(e){return a("el-col",{key:e.id,attrs:{span:12},nativeOn:{click:function(a){return t.goSongDetails(e.id)}}},[a("el-card",{staticClass:"LatestSongsCard"},[a("img",{staticClass:"image",attrs:{src:e.picUrl},nativeOn:{click:function(a){return t.playMusic(e.id)}}}),a("div",[a("p",[t._v(t._s(e.name))]),a("p",[t._v(t._s(e.song.artists[0].name))]),a("p",[t._v(t._s(t._f("timeformat")(e.song.duration)))])]),a("span",{staticClass:"iconfont icon-bofang_huaban"})])],1)})),1)],1)],1),a("el-tabs",{model:{value:t.activeLateMVs,callback:function(e){t.activeLateMVs=e},expression:"activeLateMVs"}},[a("el-tab-pane",{attrs:{label:"最新音乐",name:"LateMVs"}},[a("el-row",{attrs:{gutter:12}},t._l(t.latestMVs,(function(e){return a("el-col",{key:e.id,attrs:{span:6},nativeOn:{click:function(a){return t.goMvDetails(e.id)}}},[a("el-card",{staticClass:"latestMVsCard",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:e.picUrl}}),a("div",[a("p",[t._v(t._s(e.name))]),a("p",[t._v(t._s(e.artistName))])]),a("span",{staticClass:"iconfont icon-bofang_huaban"})])],1)})),1)],1)],1)],1)},T=[],E={name:"Discover",data:function(){return{banners:[],activeRecommend:"Recommend",activeLatestSongs:"LatestSongs",activeLateMVs:"LateMVs",personalized:[],latestSongs:[],latestMVs:[]}},computed:Object(o["a"])({},Object(c["mapState"])(["musicId"])),created:function(){this.getBanner(),this.getPersonalized(),this.getLatestSongs(),this.getLatestMVs()},methods:Object(o["a"])(Object(o["a"])({},Object(c["mapMutations"])(["setMusicID"])),{},{getBanner:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/banner");case 2:a=e.sent,t.banners=a.data.banners;case 4:case"end":return e.stop()}}),e)})))()},getPersonalized:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/personalized",{params:{limit:12}});case 2:a=e.sent,t.personalized=a.data.result;case 4:case"end":return e.stop()}}),e)})))()},getLatestSongs:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/personalized/newsong");case 2:a=e.sent,t.latestSongs=a.data.result;case 4:case"end":return e.stop()}}),e)})))()},getLatestMVs:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/personalized/mv");case 2:a=e.sent,t.latestMVs=a.data.result;case 4:case"end":return e.stop()}}),e)})))()},playMusic:function(t){this.setMusicID(t)},goPlaylistDeltail:function(t){this.$router.push("/playlistdetail/"+t)},goMvDetails:function(t){this.$router.push("/mvdetails/"+t)},goSongDetails:function(t){this.$router.push("/songdetails/"+t)}})},B=E,H=(a("03e5"),Object(g["a"])(B,N,T,!1,null,"bfe7fd7c",null)),A=H.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.area,callback:function(e){t.area=e},expression:"area"}},[a("el-tab-pane",{attrs:{disabled:"",label:"地区:"}}),a("el-tab-pane",{attrs:{label:"全部",name:"全部"}}),a("el-tab-pane",{attrs:{label:"内地",name:"内地"}}),a("el-tab-pane",{attrs:{label:"港台",name:"港台"}}),a("el-tab-pane",{attrs:{label:"欧美",name:"欧美"}}),a("el-tab-pane",{attrs:{label:"日本",name:"日本"}}),a("el-tab-pane",{attrs:{label:"韩国",name:"韩国"}})],1),a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-tab-pane",{attrs:{disabled:"",label:"类型:"}}),a("el-tab-pane",{attrs:{label:"全部",name:"全部"}}),a("el-tab-pane",{attrs:{label:"官方版",name:"官方版"}}),a("el-tab-pane",{attrs:{label:"原声",name:"原声"}}),a("el-tab-pane",{attrs:{label:"现场版",name:"现场版"}}),a("el-tab-pane",{attrs:{label:"网易出品",name:"网易出品"}})],1),a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.order,callback:function(e){t.order=e},expression:"order"}},[a("el-tab-pane",{attrs:{disabled:"",label:"排序:"}}),a("el-tab-pane",{attrs:{label:"上升最快",name:"上升最快"}}),a("el-tab-pane",{attrs:{label:"最热",name:"最热"}}),a("el-tab-pane",{attrs:{label:"最新",name:"最新"}})],1),a("el-row",{attrs:{gutter:12}},t._l(t.mvLists,(function(e){return a("el-col",{key:e.id,attrs:{span:6},nativeOn:{click:function(a){return t.goMvDetails(e.id)}}},[a("el-card",{staticClass:"latestMVsCard",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:e.cover}}),a("div",[a("p",[t._v(t._s(e.name))]),a("p",[t._v(t._s(e.artistName))])]),a("span",{staticClass:"iconfont icon-bofang_huaban"})])],1)})),1),a("el-pagination",{attrs:{"current-page":this.currentPage,"page-sizes":this.pageSizes,"page-size":this.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},q=[],Y={name:"LatestMVs",data:function(){return{area:"全部",type:"全部",order:"最热",currentPage:1,pageSizes:[10,20,50,80,100],pageSize:20,total:0,mvLists:[]}},mounted:function(){this.getMVs()},methods:{handleClick:function(t,e){this.getMVs()},handleSizeChange:function(t){this.pageSize=t,this.getMVs()},handleCurrentChange:function(t){this.currentPage=t,this.getMVs()},getMVs:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/mv/all",{params:{area:t.area,type:t.type,order:t.order,limit:t.pageSize,offset:(t.currentPage-1)*t.pageSize}});case 2:a=e.sent,1===t.currentPage&&(t.total=a.data.count),t.mvLists=a.data.data;case 5:case"end":return e.stop()}}),e)})))()},goMvDetails:function(t){this.$router.push("/mvdetails/"+t)}}},J=Y,Q=(a("57f3"),Object(g["a"])(J,F,q,!1,null,"768b2166",null)),X=Q.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.catlists,(function(e){return a("el-tab-pane",{key:e.id,attrs:{label:e.content,name:e.content}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.songsTable,stripe:""},on:{"row-click":t.handleRowChange}},[a("el-table-column",{attrs:{type:"index",width:"100"}}),a("el-table-column",{attrs:{label:"音乐图片",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticClass:"img",attrs:{src:e.row.blurPicUrl,alt:""}}),a("p",{staticClass:"iconfont icon-bofang_huaban imgP",on:{click:function(a){return t.playMusic(e.row.id)}}})]}}],null,!0)}),a("el-table-column",{attrs:{prop:"name",label:"音乐标题",width:"300"}}),a("el-table-column",{attrs:{prop:"artists",label:"歌手",width:"200"}}),a("el-table-column",{attrs:{prop:"albumName",label:"专辑",width:"200"}}),a("el-table-column",{attrs:{label:"时长",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(t._f("timeformat")(e.row.duration)))])]}}],null,!0)})],1)],1)})),1)],1)},W=[],K=(a("d81d"),{name:"LatestSongs",data:function(){return{activeName:"全部",activeID:0,catlists:[{content:"全部",id:0},{content:"华语",id:7},{content:"欧美",id:96},{content:"日本",id:8},{content:"韩国",id:16}],songsList:[],rLoading:""}},computed:Object(o["a"])(Object(o["a"])({},Object(c["mapState"])(["musicId"])),{},{songsTable:function(){return this.songsList.map((function(t){return{name:t.name,duration:t.duration,artists:t.artists[0].name,blurPicUrl:t.album.blurPicUrl,albumName:t.album.name,id:t.id}}))}}),mounted:function(){this.findSongID(),this.getSongList(),this.rLoading=this.openLoading()},methods:Object(o["a"])(Object(o["a"])({},Object(c["mapMutations"])(["setMusicID"])),{},{getSongList:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/top/song",{params:{type:t.activeID}});case 2:a=e.sent,t.songsList=a.data.data,t.rLoading.close();case 5:case"end":return e.stop()}}),e)})))()},findSongID:function(){var t=this,e=this.catlists.findIndex((function(e){return t.activeName===e.content}));this.activeID=this.catlists[e].id},handleClick:function(t,e){this.rLoading=this.openLoading(),this.findSongID(),this.getSongList()},playMusic:function(t){this.setMusicID(t)},handleRowChange:function(t,e,a){this.goSongDetails(t.id)},goSongDetails:function(t){this.$router.push("/songdetails/"+t)}})}),Z=K,tt=(a("5e31"),Object(g["a"])(Z,G,W,!1,null,"5a9681b2",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"headerCard"},[a("img",{attrs:{src:t.highquality.coverImgUrl}}),a("div",{staticStyle:{padding:"14px"}},[a("el-button",{attrs:{type:"warning",plain:"",disabled:""}},[t._v("精品歌单")]),a("p",[t._v(t._s(t.highquality.description))])],1)])],1)],1),a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.catlists,(function(e){return a("el-tab-pane",{key:e,attrs:{label:e,name:e}},[a("el-row",{attrs:{gutter:12}},t._l(t.playlists,(function(e){return a("el-col",{key:e.id,attrs:{span:4},nativeOn:{click:function(a){return t.goPlaylistDeltail(e.id)}}},[a("el-card",{staticClass:"RecommendCard",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:e.coverImgUrl}}),a("div",[a("span",[t._v(t._s(e.name))])]),a("p",{staticClass:"iconfont icon-bofang_huaban"})])],1)})),1)],1)})),1),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},nt=[],st={name:"Recommend",data:function(){return{activeName:"全部",catlists:["全部","欧美","华语","流行","说唱","摇滚","民谣","电子","轻音乐","影视原声","ACG","怀旧","治愈","旅行"],highquality:{},playlists:[],total:0,pageSize:30,pageSizes:[18,30,48,60,80,100],currentPage:1}},mounted:function(){this.highQuality(),this.playLists()},methods:{highQuality:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/top/playlist/highquality",{params:{limit:1}});case 2:a=e.sent,t.highquality=a.data.playlists[0];case 4:case"end":return e.stop()}}),e)})))()},playLists:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/top/playlist/",{params:{cat:t.activeName,limit:t.pageSize,offset:(t.currentPage-1)*t.pageSize}});case 2:a=e.sent,t.playlists=a.data.playlists,t.total=a.data.total;case 5:case"end":return e.stop()}}),e)})))()},handleClick:function(t,e){this.currentPage=1,this.playLists()},handleSizeChange:function(t){this.pageSize=t,this.playLists()},handleCurrentChange:function(t){this.currentPage=t,this.playLists()},goPlaylistDeltail:function(t){this.$router.push("/playlistdetail/"+t)}}},it=st,rt=(a("11a4"),Object(g["a"])(it,at,nt,!1,null,"6dd32694",null)),ot=rt.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"search_header"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchByName(e)}},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchByName},slot:"append"})],1)],1),a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"歌曲",name:"songs"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.songsTabLists,stripe:""},on:{"row-click":t.handleRowChange}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{label:"音乐图片",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticClass:"img",attrs:{src:e.row.img,alt:""}}),a("p",{staticClass:"iconfont icon-bofang_huaban imgP",on:{click:function(a){return t.playMusic(e.row.id)}}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"音乐标题",width:"300"}}),a("el-table-column",{attrs:{prop:"artists",label:"歌手",width:"200"}}),a("el-table-column",{attrs:{prop:"album",label:"专辑"}}),a("el-table-column",{attrs:{width:"100",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(t._f("timeformat")(e.row.duration)))])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"歌单",name:"songLists"}},[a("el-row",{attrs:{gutter:12}},t._l(t.playlists,(function(e){return a("el-col",{key:e.id,attrs:{span:4},nativeOn:{click:function(a){return t.goPlaylistDeltail(e.id)}}},[a("el-card",{staticClass:"RecommendCard",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:e.coverImgUrl}}),a("div",[a("span",[t._v(t._s(e.name))])]),a("p",{staticClass:"iconfont icon-bofang_huaban"})])],1)})),1)],1),a("el-tab-pane",{attrs:{label:"MV",name:"mvLists"}},[a("el-row",{attrs:{gutter:12}},t._l(t.mvs,(function(e){return a("el-col",{key:e.id,attrs:{span:6},nativeOn:{click:function(a){return t.goMvDetails(e.id)}}},[a("el-card",{staticClass:"latestMVsCard",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:e.cover}}),a("div",[a("p",[t._v(t._s(e.name))]),a("p",[t._v(t._s(e.artistName))])]),a("span",{staticClass:"iconfont icon-bofang_huaban"})])],1)})),1)],1)],1),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},lt=[],ut={name:"Search",data:function(){return{type:1,currentPage:1,pageSizes:[10,20,50,80,100],pageSize:30,keywords:this.$route.params.songName,songsList:[],playlists:[],mvs:[],songCount:0,playlistCount:0,mvCount:0,activeName:"songs"}},watch:{"$route.params.songName":function(t){this.keywords=t,this.getSearch()},activeName:function(t,e){"songs"===t?this.type=1:"songLists"===t?this.type=1e3:"mvLists"===t&&(this.type=1004)}},mounted:function(){this.getSearch()},computed:Object(o["a"])(Object(o["a"])({},Object(c["mapState"])(["musicId","MVid"])),{},{songsTabLists:function(){return 1===this.type&&this.songsList?this.songsList.map((function(t){return{id:t.id,name:t.name,artists:t.artists[0].name,album:t.album.name,duration:t.duration,img:t.album.artist.img1v1Url}})):null},total:function(){return 1===this.type?this.songCount:1e3===this.type?this.playlistCount:1004===this.type?this.mvCount:this.songCount}}),methods:Object(o["a"])(Object(o["a"])({},Object(c["mapMutations"])(["setMusicID","setMVID"])),{},{getSearch:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/search",{params:{keywords:t.keywords,limit:t.pageSize,offset:(t.currentPage-1)*t.pageSize,type:t.type}});case 2:a=e.sent,t.songsList=a.data.result.songs,t.songCount=a.data.result.songCount,t.playlists=a.data.result.playlists,t.playlistCount=a.data.result.playlistCount,t.mvs=a.data.result.mvs,t.mvCount=a.data.result.mvCount;case 9:case"end":return e.stop()}}),e)})))()},handleSizeChange:function(t){this.pageSize=t,this.getSearch()},handleCurrentChange:function(t){this.currentPage=t,this.getSearch()},handleClick:function(t,e){var a=this;this.currentPage=1,this.pageSize=30,setTimeout((function(){a.getSearch()}),100)},playMusic:function(t){this.setMusicID(t)},goPlaylistDeltail:function(t){this.$router.push("/playlistdetail/"+t)},handleRowChange:function(t,e,a){this.goSongDetails(t.id)},goMvDetails:function(t){this.$router.push("/mvdetails/"+t)},searchByName:function(){this.$router.push("/search/"+this.keywords)},goSongDetails:function(t){this.$router.push("/songdetails/"+t)}})},pt=ut,mt=(a("7ab0"),Object(g["a"])(pt,ct,lt,!1,null,"1bb89da8",null)),dt=mt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-row",[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"left"},[a("h2",[t._v("MV详情")]),a("videoPlayer"),a("div",{staticClass:"main"},[a("img",{attrs:{src:t.artistsDetail.picUrl,alt:""}}),a("h4",[t._v(t._s(t.MVDetail.artistName))]),a("h1",[t._v(t._s(t.MVDetail.name))]),a("p",{staticClass:"publishTime"},[t._v("发布: "+t._s(t.MVDetail.publishTime)+" 播放: "+t._s(t.MVDetail.playCount))]),a("p",[t._v(t._s(t.MVDetail.desc))])])],1)]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"right"},[a("h2",[t._v("相关推荐")]),a("el-row",{attrs:{gutter:12}},t._l(t.SimiMV,(function(e){return a("el-col",{key:e.id,attrs:{span:24},nativeOn:{click:function(a){return t.goMvDetails(e.id)}}},[a("el-card",{staticClass:"latestMVsCard",attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:e.cover}}),a("div",[a("p",[t._v(t._s(e.name))]),a("p",[t._v(t._s(e.artistName))])]),a("span",{staticClass:"iconfont icon-bofang_huaban"})])],1)})),1)],1)])],1),a("div",{staticClass:"comments"},[t.hotComments[0]?a("div",[a("h2",[t._v("精彩评论")]),t._l(t.hotComments,(function(e){return a("el-card",{key:e.commentId,staticClass:"CommentCard"},[a("img",{attrs:{src:e.user.avatarUrl}}),a("div",{staticClass:"content"},[a("p",[a("el-button",{attrs:{size:"mini",type:"primary",plain:""}},[t._v(t._s(e.user.nickname))]),t._v(" "+t._s(e.content)+" ")],1),e.beReplied[0]?a("div",{staticClass:"beReplied"},[a("div",{staticStyle:{padding:"10px"}},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""}},[t._v(t._s(e.beReplied[0].user.nickname))]),a("span",[t._v(t._s(e.beReplied[0].content))])],1)]):t._e(),a("p",{staticClass:"time"},[t._v(t._s(t._f("dateformat")(e.time)))])])])}))],2):t._e(),t.MVComments[0]?a("div",[a("h2",[t._v("最新评论")]),t._l(t.MVComments,(function(e){return a("el-card",{key:e.commentId,staticClass:"CommentCard"},[a("img",{attrs:{src:e.user.avatarUrl}}),a("div",{staticClass:"content"},[a("p",[a("el-button",{attrs:{size:"mini",type:"primary",plain:""}},[t._v(t._s(e.user.nickname))]),t._v(" "+t._s(e.content)+" ")],1),e.beReplied[0]?a("div",{staticClass:"beReplied"},[a("div",{staticStyle:{padding:"10px"}},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""}},[t._v(t._s(e.beReplied[0].user.nickname))]),a("span",[t._v(t._s(e.beReplied[0].content))])],1)]):t._e(),a("p",{staticClass:"time"},[t._v(t._s(t._f("dateformat")(e.time)))])])])}))],2):t._e(),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},ht=[],ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("video-player",{ref:"videoPlayer",staticClass:"vjs-custom-skin",attrs:{options:t.playerOptions,playsinline:!0},on:{pause:function(e){return t.onPlayerPause(e)}}})},vt=[],bt=(a("fda2"),a("d6d3")),yt={name:"vueVideoPlayer",data:function(){return{playerOptions:{playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!0,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"video/mp4",src:this.MVUrl}],poster:"",notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!0,fullscreenToggle:!0}},MVUrl:""}},components:{videoPlayer:bt["videoPlayer"]},computed:Object(o["a"])(Object(o["a"])({},Object(c["mapState"])(["MVid","flag"])),{},{player:function(){return this.$refs.videoPlayer.player}}),created:function(){this.getMVUrl()},watch:{"$store.state.MVid":function(t){this.getMVUrl()},"$store.state.flag":function(t){1===t?this.PlayerPlay():this.PlayerPause()}},methods:Object(o["a"])(Object(o["a"])({},Object(c["mapMutations"])(["setFlag"])),{},{getMVUrl:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/mv/url",{params:{id:t.MVid}});case 2:a=e.sent,t.MVUrl=a.data.data.url,t.playerOptions.sources[0].src=t.MVUrl;case 5:case"end":return e.stop()}}),e)})))()},PlayerPlay:function(){this.$refs.videoPlayer.player.play()},PlayerPause:function(){this.$refs.videoPlayer.player.pause()},onPlayerPause:function(t){this.setFlag(-1)}})},_t=yt,Ct=Object(g["a"])(_t,ft,vt,!1,null,"0bb859c9",null),wt=Ct.exports,xt={name:"MVdetails",data:function(){return{mvid:this.$route.params.mvid,currentPage:1,pageSizes:[10,20,50,80,100],pageSize:10,total:0,SimiMV:[],MVDetail:{},MVComments:[],hotComments:[],artistsId:0,artistsDetail:[]}},components:{videoPlayer:wt},computed:Object(o["a"])({},Object(c["mapState"])(["MVid"])),watch:{"$route.params.mvid":function(t){this.clearMVID(),this.setFlag(1),this.setMVID(t),this.getSimiMV(),this.getMVDetail(),this.getMVComments()}},methods:Object(o["a"])(Object(o["a"])({},Object(c["mapMutations"])(["setMVID","cleanMusicID","clearMVID","setFlag"])),{},{handleSizeChange:function(t){this.pageSize=t,this.getMVComments()},handleCurrentChange:function(t){this.currentPage=t,this.getMVComments()},getSimiMV:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/simi/mv",{params:{mvid:t.MVid}});case 2:a=e.sent,t.SimiMV=a.data.mvs;case 4:case"end":return e.stop()}}),e)})))()},getMVDetail:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/mv/detail",{params:{mvid:t.MVid}});case 2:a=e.sent,t.MVDetail=a.data.data,t.artistsId=a.data.data.artistId,t.getArtistsDetail();case 6:case"end":return e.stop()}}),e)})))()},getArtistsDetail:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/artists",{params:{id:t.artistsId}});case 2:a=e.sent,t.artistsDetail=a.data.artist;case 4:case"end":return e.stop()}}),e)})))()},getMVComments:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/comment/mv",{params:{id:t.MVid,limit:t.pageSize,offset:(t.currentPage-1)*t.pageSize}});case 2:a=e.sent,t.MVComments=a.data.comments,1===t.currentPage&&(t.hotComments=a.data.hotComments),t.total=a.data.total;case 6:case"end":return e.stop()}}),e)})))()},goMvDetails:function(t){this.$router.push("/mvdetails/"+t)}}),mounted:function(){this.clearMVID(),this.setMVID(this.mvid),this.setFlag(1),this.getSimiMV(),this.getMVDetail(),this.getMVComments()}},St=xt,Mt=(a("61f1"),Object(g["a"])(St,gt,ht,!1,null,"70dd3976",null)),kt=Mt.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"headerCard"},[a("img",{attrs:{src:t.playlist.coverImgUrl}}),a("div",{staticStyle:{padding:"14px"}},[a("h2",[t._v(t._s(t.playlist.name))]),a("div",[a("img",{staticClass:"avatarUrl",attrs:{src:t.playlist.creator.avatarUrl,alt:"avatarUrl"}}),a("el-button",{attrs:{type:"warning",plain:""}},[t._v(t._s(t.playlist.creator.nickname))]),a("el-button",{attrs:{type:"warning",plain:""}},[t._v(t._s(t._f("dateformat")(t.playlist.createTime)))])],1),a("div",[a("h4",[t._v("标签:")]),t._l(t.playlist.tags,(function(e){return a("el-tag",{key:e,attrs:{type:"success",closable:""}},[t._v(" "+t._s(e)+" ")])})),a("p",{on:{click:t.openMessageBox}},[t._v(t._s(t.playlist.description))])],2)])])],1)],1),a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"歌曲列表",name:"song"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.songsTable,stripe:""},on:{"row-click":t.handleRowChange}},[a("el-table-column",{attrs:{type:"index",width:"100"}}),a("el-table-column",{attrs:{label:"音乐图片",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{staticClass:"img",attrs:{src:e.row.blurPicUrl,alt:""}}),a("p",{staticClass:"iconfont icon-bofang_huaban imgP",on:{click:function(a){return t.playMusic(e.row.id)}}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"音乐标题",width:"300"}}),a("el-table-column",{attrs:{prop:"artists",label:"歌手",width:"200"}}),a("el-table-column",{attrs:{prop:"albumName",label:"专辑",width:"200"}}),a("el-table-column",{attrs:{label:"时长",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(t._f("timeformat")(e.row.duration)))])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"评论",name:"comment"}},[t.hotComment[0]?a("div",[a("h3",[t._v("精彩评论")]),t._l(t.hotComment,(function(e){return a("el-card",{key:e.commentId,staticClass:"CommentCard"},[a("img",{attrs:{src:e.user.avatarUrl}}),a("div",{staticClass:"content"},[a("p",[a("el-button",{attrs:{size:"mini",type:"primary",plain:""}},[t._v(t._s(e.user.nickname))]),t._v(" "+t._s(e.content)+" ")],1),e.beReplied[0]?a("div",{staticClass:"beReplied"},[a("div",{staticStyle:{padding:"10px"}},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""}},[t._v(t._s(e.beReplied[0].user.nickname))]),a("span",[t._v(t._s(e.beReplied[0].content))])],1)]):t._e(),a("p",{staticClass:"time"},[t._v(t._s(t._f("dateformat")(e.time)))])])])})),a("el-pagination",{attrs:{"current-page":t.hotCurrentPage,"page-sizes":t.pageSizes,"page-size":t.hotPageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.hotCount},on:{"size-change":t.hotHandleSizeChange,"current-change":t.hotHandleCurrentChange}})],2):t._e(),t.comments[0]?a("div",[a("h3",[t._v("最新评论")]),t._l(t.comments,(function(e){return a("el-card",{key:e.commentId,staticClass:"CommentCard"},[a("img",{attrs:{src:e.user.avatarUrl}}),a("div",{staticClass:"content"},[a("p",[a("el-button",{attrs:{size:"mini",type:"primary",plain:""}},[t._v(t._s(e.user.nickname))]),t._v(" "+t._s(e.content)+" ")],1),e.beReplied[0]?a("div",{staticClass:"beReplied"},[a("div",{staticStyle:{padding:"10px"}},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""}},[t._v(t._s(e.beReplied[0].user.nickname))]),a("span",[t._v(t._s(e.beReplied[0].content))])],1)]):t._e(),a("p",{staticClass:"time"},[t._v(t._s(t._f("dateformat")(e.time)))])])])})),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.commentsTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],2):t._e()])],1)],1)},Ot=[],Pt=(a("a4d3"),a("e01a"),{name:"PlaylistDetail",data:function(){return{activeName:"song",listId:this.$route.params.listId,playlist:{},type:2,pageSizes:[10,20,50,80,100],hotPageSize:10,hotCurrentPage:1,hotComment:[],hotCount:0,pageSize:10,currentPage:1,comments:[],commentsTotal:0}},computed:{songsTable:function(){return this.playlist.tracks.map((function(t){return{name:t.name,duration:t.dt,artists:t.ar[0].name,blurPicUrl:t.al.picUrl,albumName:t.al.name,id:t.id}}))}},mounted:function(){this.getPlaylistDetail(),this.getHotComments(),this.getLatestComments()},methods:Object(o["a"])(Object(o["a"])({},Object(c["mapMutations"])(["setMusicID"])),{},{openMessageBox:function(){this.$messagebox(this.playlist.description,"歌单简介",{confirmButtonText:"确定",customClass:"messageBox"}).catch((function(){}))},getPlaylistDetail:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/playlist/detail",{params:{id:t.listId}});case 2:a=e.sent,t.playlist=a.data.playlist;case 4:case"end":return e.stop()}}),e)})))()},getHotComments:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/comment/hot",{params:{id:t.listId,type:t.type,limit:t.hotPageSize,offset:(t.hotCurrentPage-1)*t.hotPageSize}});case 2:a=e.sent,t.hotComment=a.data.hotComments,t.hotCount=a.data.total;case 5:case"end":return e.stop()}}),e)})))()},getLatestComments:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/comment/playlist",{params:{id:t.listId,limit:t.pageSize,offset:(t.currentPage-1)*t.pageSize}});case 2:a=e.sent,t.commentsTotal=a.data.total,t.comments=a.data.comments;case 5:case"end":return e.stop()}}),e)})))()},handleClick:function(t,e){},playMusic:function(t){this.setMusicID(t)},handleRowChange:function(t,e,a){this.goSongDetails(t.id)},hotHandleSizeChange:function(t){this.hotPageSize=t,this.getHotComments()},hotHandleCurrentChange:function(t){this.hotCurrentPage=t,this.getHotComments()},handleSizeChange:function(t){this.pageSize=t,this.getLatestComments()},handleCurrentChange:function(t){this.currentPage=t,this.getLatestComments()},goSongDetails:function(t){this.$router.push("/songdetails/"+t)}})}),jt=Pt,Vt=(a("ef54"),Object(g["a"])(jt,zt,Ot,!1,null,"06fd2857",null)),Lt=Vt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-card",{staticClass:"headerCard"},[a("img",{attrs:{src:t.songs.al.picUrl}}),a("div",{staticStyle:{padding:"14px"}},[a("h2",[t._v(t._s(t.songs.name))]),a("div",[a("img",{staticClass:"avatarUrl",attrs:{src:t.songs.al.picUrl,alt:"avatarUrl"}}),a("h4",{attrs:{type:"warning",plain:""}},[t._v("歌手: "+t._s(t.songs.ar[0].name))]),t.songs.ar[1]?a("h4",{attrs:{type:"warning",plain:""}},[t._v(t._s(t.songs.ar[1]&&t.songs.ar[1].name))]):t._e(),a("h4",{attrs:{type:"warning",plain:""}},[t._v("时长: "+t._s(t._f("timeformat")(t.songs.dt)))]),a("el-button",{attrs:{round:"",type:"success",plain:""},on:{click:function(e){return t.playMusic(t.songs.id)}}},[t._v("立即播放")]),t.songs.mv?a("el-button",{attrs:{round:"",type:"primary",plain:""},on:{click:function(e){return t.goMVdetail(t.songs.mv)}}},[t._v("去看MV")]):t._e(),a("p",{domProps:{innerHTML:t._s(t.showLyric)},on:{click:t.openMessageBox}})],1)])])],1)],1),t.hotComments[0]?a("div",[a("h3",[t._v("热门评论")]),t._l(t.hotComments,(function(e){return a("el-card",{key:e.commentId,staticClass:"CommentCard"},[a("img",{attrs:{src:e.user.avatarUrl}}),a("div",{staticClass:"content"},[a("p",[a("el-button",{attrs:{size:"mini",type:"primary",plain:""}},[t._v(t._s(e.user.nickname))]),t._v(" "+t._s(e.content)+" ")],1),e.beReplied[0]?a("div",{staticClass:"beReplied"},[a("div",{staticStyle:{padding:"10px"}},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""}},[t._v(t._s(e.beReplied[0].user.nickname))]),a("span",[t._v(t._s(e.beReplied[0].content))])],1)]):t._e(),a("p",{staticClass:"time"},[t._v(t._s(t._f("dateformat")(e.time)))])])])})),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],2):a("h1",[t._v("没有热门评论")])],1)},Dt=[],It=(a("5319"),{name:"SongDetails",data:function(){return{songid:this.$route.params.songid,hotComments:[],total:0,songs:{},Lyric:"",showLyric:"",currentPage:1,pageSizes:[10,20,50,80,100],pageSize:10,hotCurrentPage:1}},watch:{"$route.params.songid":function(t){},Lyric:function(t){this.showLyric=t.replace(/\[.*?\]/g,"<br />")}},methods:Object(o["a"])(Object(o["a"])({},Object(c["mapMutations"])(["setMusicID"])),{},{openMessageBox:function(){this.$alert(this.showLyric,this.songs.name+"歌词",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,customClass:"messageBoxLyric",closeOnClickModal:!0}).catch((function(){}))},getSongDetail:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/song/detail",{params:{ids:t.songid}});case 2:a=e.sent,t.songs=a.data.songs[0];case 4:case"end":return e.stop()}}),e)})))()},getSongComment:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/comment/hot",{params:{id:t.songid,type:0,limit:t.pageSize,offset:(t.currentPage-1)*t.pageSize}});case 2:a=e.sent,t.hotComments=a.data.hotComments,t.total=a.data.total;case 5:case"end":return e.stop()}}),e)})))()},getLyric:function(){var t=this;return Object(M["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("/lyric",{params:{id:t.songid}});case 2:a=e.sent,t.Lyric=a.data.lrc.lyric;case 4:case"end":return e.stop()}}),e)})))()},goMVdetail:function(t){this.$router.push("/mvdetails/"+t)},playMusic:function(t){this.setMusicID(t)},handleSizeChange:function(t){this.pageSize=t,this.getSongComment()},handleCurrentChange:function(t){this.currentPage=t,this.getSongComment()}}),created:function(){this.getSongDetail(),this.getSongComment(),this.getLyric()}}),$t=It,Ut=(a("bb81"),a("6ede"),Object(g["a"])($t,Rt,Dt,!1,null,"466d17a2",null)),Nt=Ut.exports;s.a.use(U.a);var Tt=[{path:"/",redirect:"discover"},{path:"*",redirect:"discover"},{path:"/discover",name:"Discover",component:A},{path:"/recommend",name:"Recommend",component:ot},{path:"/latestMVs",name:"LatestMVs",component:X},{path:"/latestSongs",name:"LatestSongs",component:et},{path:"/search/:songName",name:"Search",component:dt},{path:"/mvdetails/:mvid",name:"MVdetails",component:kt},{path:"/songdetails/:songid",name:"SongDetails",component:Nt},{path:"/playlistdetail/:listId",name:"PlaylistDetail",component:Lt}],Et=new U.a({routes:Tt}),Bt=Et;a("99af");s.a.use(l.a);var Ht=new l.a.Store({state:{flag:-1,musicId:"",MVid:"",playLists:[]},mutations:{setFlag:function(t,e){t.flag=e},setMusicID:function(t,e){t.musicId=e},setMVID:function(t,e){t.MVid=e},setPlayLists:function(t,e){t.playLists=t.playLists.concat(e)},cleanMusicID:function(t,e){t.musicId=""},clearMVID:function(t,e){t.MVid=""},clearPlayLists:function(t,e){t.playLists=""}},actions:{},modules:{}}),At=(a("4dcb"),a("ed2c"),a("c32d")),Ft=a.n(At),qt=a("1af2"),Yt=a.n(qt),Jt=a("cebe"),Qt=a.n(Jt);Qt.a.defaults.baseURL="https://autumnfish.cn/",s.a.prototype.axios=Qt.a,Qt.a.interceptors.request.use((function(t){return Yt.a.start(),t})),Qt.a.interceptors.response.use((function(t){return Yt.a.done(),t})),s.a.filter("dateformat",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return Ft()(t).format(e)})),s.a.filter("timeformat",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mm:ss";return Ft()(t).format(e)})),s.a.prototype.openLoading=function(){var t=this.$loading({lock:!0,text:"正在加载...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.3)",target:".sub-main",body:!0,customClass:"mask"});return t},s.a.config.productionTip=!1,new s.a({router:Bt,store:Ht,render:function(t){return t(I)}}).$mount("#app")},"4dcb":function(t,e,a){},"4ffd":function(t,e,a){t.exports=a.p+"img/logo.48e69dc3.png"},5063:function(t,e,a){"use strict";var n=a("5eca"),s=a.n(n);s.a},"57f3":function(t,e,a){"use strict";var n=a("2e8a"),s=a.n(n);s.a},5880:function(t,e){t.exports=Vuex},"5e31":function(t,e,a){"use strict";var n=a("62d9"),s=a.n(n);s.a},"5eca":function(t,e,a){},"61f1":function(t,e,a){"use strict";var n=a("998f"),s=a.n(n);s.a},"62d9":function(t,e,a){},6389:function(t,e){t.exports=VueRouter},"6ede":function(t,e,a){"use strict";var n=a("794e"),s=a.n(n);s.a},"712b":function(t,e){if("undefined"===typeof hls.js){var a=new Error("Cannot find module 'hls.js'");throw a.code="MODULE_NOT_FOUND",a}t.exports=hls.js},"794e":function(t,e,a){},"7ab0":function(t,e,a){"use strict";var n=a("d44a"),s=a.n(n);s.a},"81eb":function(t,e,a){},"8bbf":function(t,e){t.exports=Vue},"998f":function(t,e,a){},a0c2:function(t,e,a){"use strict";var n=a("119c"),s=a.n(n);s.a},bb81:function(t,e,a){"use strict";var n=a("cd57"),s=a.n(n);s.a},bce8:function(t,e,a){},bcfd:function(t,e,a){},c32d:function(t,e){t.exports=moment},cd57:function(t,e,a){},cebe:function(t,e){t.exports=axios},d44a:function(t,e,a){},ed2c:function(t,e,a){},ef54:function(t,e,a){"use strict";var n=a("bce8"),s=a.n(n);s.a}});
//# sourceMappingURL=app.2e21bb9e.js.map